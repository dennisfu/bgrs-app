(this["webpackJsonpbgrs-app"]=this["webpackJsonpbgrs-app"]||[]).push([[0],{101:function(e,t,a){},103:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(13),i=a.n(c),o=(a(75),a.p,a(58)),s=a(22),l=a(115),d=a(109),u=a(70),j=a(110),p=a(111),b=a(116),h=a(114),O=a(112),y=a(117),m=a(68),f=a(113),v=a(30),x=a.n(v),g=a(10),w="setPeopleList",L="setPeopleSelected",k="setLoadingList",C="setLoading";a(97);var I=a(5),S=function(){var e=Object(s.c)((function(e){return e.UiReducer.peopleList})),t=Object(s.c)((function(e){return e.UiReducer.peopleSelected})),a=Object(s.c)((function(e){return e.UiReducer.isLoadingList})),r=Object(s.c)((function(e){return e.UiReducer.isLoading})),c=Object(n.useState)(1),i=Object(o.a)(c,2),v=i[0],S=i[1],_=Object(n.useState)(""),A=Object(o.a)(_,2),B=A[0],R=A[1],P=function(){return R("")},H=Object(s.b)();Object(n.useEffect)((function(){H(function(e){return function(t){return t({type:k,payload:!0}),t({type:L,payload:{}}),x.a.get("https://swapi.dev/api/people/?page=".concat(e)).then((function(e){t({type:w,payload:e.data.results}),t({type:k,payload:!1})}),(function(e){t({type:k,payload:!1}),t({type:w,payload:[]})}))}}(v))}),[v]);return Object(I.jsxs)("div",{className:"people-page",children:[function(e){for(var t=[],a=function(a){t.push(Object(I.jsx)(l.a.Item,{active:a===e,activeLabel:"",onClick:a===e?null:function(){return S(a)},children:a},a))},n=1;n<=9;n++)a(n);return Object(I.jsx)(l.a,{children:t})}(v),a?Object(I.jsx)(d.a,{animation:"border",variant:"primary"}):Object(I.jsx)(u.a,{children:Object(I.jsx)(j.a,{as:p.a,id:"dropdown-charater",title:t.name?t.name:"Select a character",children:Array.isArray(e)&&e.length>0&&e.map((function(e,a){return Object(I.jsx)(u.a.Item,{active:e.url===t.url,onClick:e.url===t.url?null:function(){return H((t=e.url,function(e){if(""!==t)return e({type:C,payload:!0}),x.a.get(t).then((function(t){var a=t.data;if(t.data.films.length>0){var n=t.data.films.map((function(e){return x.a.get(e).then((function(e){return e.data})).catch((function(e){return{error:e.message}}))}));Promise.all(n).then((function(t){var n=t.reduce((function(e,t){return e.release_date>t.release_date?e:t}));e({type:L,payload:Object(g.a)(Object(g.a)({},a),{movies:t,lastyear:n})}),e({type:C,payload:!1})})).catch((function(t){e({type:L,payload:Object(g.a)(Object(g.a)({},a),{movies:[],lastyear:{}})}),e({type:C,payload:!1})}))}else e({type:L,payload:Object(g.a)(Object(g.a)({},a),{movies:[],lastyear:{}})}),e({type:C,payload:!1})}),(function(t){e({type:C,payload:!1}),e({type:L,payload:{}})}));e({type:L,payload:{}})}));var t},children:e.name},"p".concat(a))}))},"dropdown-charater")}),Object(I.jsx)("div",{className:"people-card",children:r?Object(I.jsx)(d.a,{animation:"border",variant:"primary"}):t.name&&Object(I.jsxs)(b.a,{children:[Object(I.jsx)(b.a.Header,{children:Object(I.jsx)("h3",{children:t.name})}),Object(I.jsx)(b.a.Text,{children:Object(I.jsxs)(h.a,{defaultActiveKey:"movies",id:"uncontrolled-tab",className:"mb-3",children:[Object(I.jsx)(O.a,{eventKey:"profile",title:"Profile",children:Object(I.jsxs)(y.a,{children:[Object(I.jsxs)(y.a.Item,{variant:"primary",children:["Birth Year: ",t.birth_year]}),Object(I.jsxs)(y.a.Item,{children:["Eye Color: ",t.eye_color]}),Object(I.jsxs)(y.a.Item,{variant:"primary",children:["Gender: ",t.gender]}),Object(I.jsxs)(y.a.Item,{children:["Hair Color: ",t.hair_color]}),Object(I.jsxs)(y.a.Item,{variant:"primary",children:["Height: ",t.height]}),Object(I.jsxs)(y.a.Item,{children:["Mass: ",t.mass]}),Object(I.jsxs)(y.a.Item,{variant:"primary",children:["Skin Color: ",t.skin_color]})]})}),Object(I.jsx)(O.a,{eventKey:"movies",title:"Movies",children:Object(I.jsx)(y.a,{children:Array.isArray(t.movies)&&t.movies.length>0&&t.movies.map((function(e,t){return Object(I.jsxs)(y.a.Item,{variant:t%2===0?"primary":"",children:[Object(I.jsxs)(m.a,{variant:"link",onClick:function(){return e="m".concat(t),R(e);var e},children:[e.title," realesed on ",e.release_date]}),Object(I.jsxs)(f.a,{show:B==="m".concat(t),onHide:P,children:[Object(I.jsx)(f.a.Header,{closeButton:!0,children:Object(I.jsx)(f.a.Title,{children:e.title})}),Object(I.jsxs)(f.a.Body,{children:[Object(I.jsxs)("p",{children:["Realesed on ",e.release_date]}),Object(I.jsx)("p",{children:e.opening_crawl}),Object(I.jsxs)("p",{children:["Director: ",e.director,Object(I.jsx)("br",{}),"Producer: ",e.producer]})]}),Object(I.jsx)(f.a.Footer,{children:Object(I.jsx)(m.a,{variant:"primary",onClick:P,children:"Close"})})]})]},"m".concat(t))}))})}),Object(I.jsx)(O.a,{eventKey:"lastyear",title:"Last Year",children:Object(I.jsx)("p",{children:"".concat(new Date(t.lastyear.release_date).getFullYear()," in ").concat(t.lastyear.title)})})]})})]})})]})};a(101);var _=function(){return Object(I.jsxs)("div",{className:"App",children:[Object(I.jsx)("header",{className:"App-header"}),Object(I.jsx)(S,{})]})},A=a(34),B=a(57),R=a.n(B),P=a(69);function H(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return new Promise((function(t){return setTimeout((function(){return t({data:e})}),500)}))}var N=Object(A.b)("counter/fetchCount",function(){var e=Object(P.a)(R.a.mark((function e(t){var a;return R.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,H(t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),U=Object(A.c)({name:"counter",initialState:{value:0,status:"idle"},reducers:{increment:function(e){e.value+=1},decrement:function(e){e.value-=1},incrementByAmount:function(e,t){e.value+=t.payload}},extraReducers:function(e){e.addCase(N.pending,(function(e){e.status="loading"})).addCase(N.fulfilled,(function(e,t){e.status="idle",e.value+=t.payload}))}}),K=U.actions,E=(K.increment,K.decrement,K.incrementByAmount,U.reducer),M={isLoading:!1,isLoadingList:!1,peopleList:[],peopleSelected:{}};var T=Object(A.a)({reducer:{counter:E,UiReducer:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:M,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return Object(g.a)(Object(g.a)({},e),{},{isLoadingList:t.payload});case C:return Object(g.a)(Object(g.a)({},e),{},{isLoading:t.payload});case w:return Object(g.a)(Object(g.a)({},e),{},{peopleList:t.payload});case L:return Object(g.a)(Object(g.a)({},e),{},{peopleSelected:t.payload});default:return e}}}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(Object(I.jsx)(r.a.StrictMode,{children:Object(I.jsx)(s.a,{store:T,children:Object(I.jsx)(_,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},75:function(e,t,a){},97:function(e,t,a){}},[[103,1,2]]]);
//# sourceMappingURL=main.e12fb9d8.chunk.js.map